function setRealContentHeight(){var e=$.mobile.activePage.find("div[data-role='header']:visible"),i=$.mobile.activePage.find("div[data-role='footer']:visible"),n=$.mobile.activePage.find("div.ui-content:visible:visible"),t=$(window).height(),a=t-(e.outerHeight()-1)-(i.outerHeight()-1);n.outerHeight()-e.outerHeight()-i.outerHeight()<=t&&(a-=n.outerHeight()-n.height()),$(".ui-content").height(a)}function get_rss(e,i){var n="",t="",a=[],o=[],c=0,p="",r="",h=[];$.get(e,function(e){$(e).find("item").each(function(){var e=$(this);n=e.find("title").text().replace("<![CDATA[","").replace("]]>","").split(" | "),t=n[0].trim(),-1==a.indexOf(t)&&(c=a.push(t)-1,o[c]=[]),p=e.find("description").text(),r=e.find("comments").text(),o[c].push({heure:n[1],titre:n[2],description:p,commentaires:r})}),$.each(a,function(e,i){h.push({nom:i,programme:o[e]})}),i(h)})}function affiche_chaines(e,i){return 0==i.length?!1:($.each(e,function(e,n){i.append("<li><a href='#' data-chaineindex='"+e+"' class='chaine'>"+n.nom+"</a></li>")}),void $("#chaines .chaine").on("click",function(i){i.stopPropagation(),i.preventDefault();var n=$(this).data("chaineindex"),t=e[n];$("#page_chaine_programme .titre_chaine").html(t.nom),$("#page_chaine_programme .programme_chaine").empty(),$.each(t.programme,function(e,i){$contenu=$('<div class="programme"><div class="ui-corner-all custom-corners"><div class="ui-bar ui-bar-a"><h3>'+i.heure+" - "+i.titre+'</h3></div><div class="ui-body ui-body-a"><p>'+i.description+"</p></div></div></div>"),$("#page_chaine_programme .programme_chaine").append($contenu)}),document.location="#page_chaine_programme"}))}$(document).on("pageshow",setRealContentHeight),$(document).on("pageinit","#demo-page",function(){$(document).on("swipeleft swiperight","#demo-page",function(e){"open"!==$.mobile.activePage.jqmData("panel")&&("swipeleft"===e.type?$("#right-panel").panel("open"):"swiperight"===e.type&&$("#left-panel").panel("open"))})}),$(document).on("pageinit","#page_chaines",function(){$(document).on("swipeleft swiperight","#page_chaines",function(e){"swipeleft"===e.type?$(".nav-menu").panel("close"):"swiperight"===e.type&&$(".nav-menu").panel("open")})});