function setRealContentHeight(){var e=$.mobile.activePage.find("div[data-role='header']:visible"),i=$.mobile.activePage.find("div[data-role='footer']:visible"),t=$.mobile.activePage.find("div.ui-content:visible:visible"),n=$(window).height(),o=n-(e.outerHeight()-1)-(i.outerHeight()-1);t.outerHeight()-e.outerHeight()-i.outerHeight()<=n&&(o-=t.outerHeight()-t.height()),$(".ui-content").height(o)}function get_rss(e,i){var t="",n="",o=[],a=[],c=0,r="",h="",p=[];$.get(e,function(e){$(e).find("item").each(function(){var e=$(this);t=e.find("title").text().replace("<![CDATA[","").replace("]]>","").split(" | "),n=t[0].trim(),-1==o.indexOf(n)&&(c=o.push(n)-1,a[c]=[]),r=e.find("description").text(),h=e.find("comments").text(),a[c].push({heure:t[1],titre:t[2],description:r,commentaires:h})}),$.each(o,function(e,i){p.push({nom:i,programme:a[e]})}),i(p)})}function affiche_chaines(e,i){return 0==i.length?!1:($.each(e,function(e,t){i.append("<li><a href='#' data-chaineindex='"+e+"' class='chaine'>"+t.nom+"</a></li>")}),void $("#chaines .chaine").on("click",function(i){i.stopPropagation(),i.preventDefault();var t=$(this).data("chaineindex"),n=e[t];$("#page_chaine_programme .titre_chaine").html(n.nom),$("#page_chaine_programme .programme_chaine").empty(),$.each(n.programme,function(e,i){$contenu=$('<div class="programme"><div class="ui-corner-all custom-corners"><div class="ui-bar ui-bar-a"><h3>'+i.heure+" - "+i.titre+'</h3></div><div class="ui-body ui-body-a"><p>'+i.description+"</p></div></div></div>"),$("#page_chaine_programme .programme_chaine").append($contenu)}),document.location="#page_chaine_programme"}))}$(document).on("pageshow",setRealContentHeight),$(document).on("pageinit",".page_with_menu",function(){console.log("page init"),$(document).on("touchstart touchmove touchend touchcancel",".page_with_menu",function(e){console.log("touch "+e.type)}),$(document).on("swipeleft swiperight",".page_with_menu",function(e){console.log("swipe "+e.type),"swipeleft"===e.type?$(".nav-menu").panel("close"):"swiperight"===e.type&&$(".nav-menu").panel("open")})});